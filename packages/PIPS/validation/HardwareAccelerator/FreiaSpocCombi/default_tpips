delete ${WSPACE}
setenv NAME ${NAME:-$WSPACE}
setproperty ABORT_ON_USER_ERROR TRUE
#setenv PIPS_HWAC_DEBUG_LEVEL=5
create ${WSPACE} ${FILE} freia.c
activate NEW_CONTROLIZER
setproperty CONSTANT_PATH_EFFECTS FALSE
setproperty PREPROCESSOR_MISSING_FILE_HANDLING="generate"
echo #
echo # initial function
echo #
display PRINTED_FILE[${NAME}]
echo #
echo # acceleration function
echo #
apply FREIA_SPOC_COMPILER[${NAME}]
#display SPOC_FILE[${NAME}]
shell cat ./${WSPACE}.database/${NAME}/*_helper_functions.c*
echo #
echo # updated function
echo #
setproperty DYNAMIC_ALLOCATION="freia_common_create_data"
setproperty DYNAMIC_DEALLOCATION="freia_common_destruct_data"
apply CLEAN_UNUSED_DYNAMIC_VARIABLES[${NAME}]
display PRINTED_FILE[${NAME}]
close
delete ${WSPACE}
quit
