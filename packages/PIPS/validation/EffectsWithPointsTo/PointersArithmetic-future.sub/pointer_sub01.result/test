
POINTS TO

//  {}
int main()
{
//  {}
   int n = 4, m = 3;
//  {}
   int a[n][m];
//  {}
   int (*p)[m] = a;
//  {(p,a[0][0],-Exact-)}
   // p == &a[0]
   p += 1;
//  {(p,a[*][*],-Exact-)}
   // p == &a[1]
   (*p)[2] = 99;
//  {(p,a[*][*],-Exact-)}
   // a[1][2] = 99
   n = p-a;
//  {(p,a[*][*],-Exact-)}
   // n == 1
   printf("n = %d", n);
//  {(p,a[*][*],-Exact-)}
   return 0;
}

Proper effects with points-to

int main()
{
//             <    is written>: m n
//             <    is referenced>: m n
//             <    is declared>: m n
   int n = 4, m = 3;
//             <    is declared>: a
   int a[n][m];
//             <    is written>: p
//             <    is referenced>: a p
//             <    is declared>: p
   int (*p)[m] = a;
//             <    is read   >: p
//             <    is written>: p
//             <    is referenced>: p
   // p == &a[0]
   p += 1;
//             <may be written>: a[*][*][2]
//             <    is read   >: p
   // p == &a[1]
   (*p)[2] = 99;
//             <    is read   >: p
//             <    is written>: n
//             <    is referenced>: a n p
   // a[1][2] = 99
   n = p-a;
//             <may be read   >: stdout[0]
//             <may be written>: stdout[0]
//             <    is read   >: n stdout __IO_EFFECTS:LUNS[1]
//             <    is written>: __IO_EFFECTS:LUNS[1]
//             <    is referenced>: n
   // n == 1
   printf("n = %d", n);
   return 0;
}

Parallel code

int main()
{
   int n = 4, m = 3;
   int a[n][m];
   int (*p)[m] = a;
   // p == &a[0]
   p += 1;
   // p == &a[1]
   (*p)[2] = 99;
   // a[1][2] = 99
   n = p-a;
   // n == 1
   printf("n = %d", n);
   return 0;
}
