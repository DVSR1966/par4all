void atp(float (*cdens)[2])
{
   int i;
   for(i = 0; i <= 1023; i += 1) {
      cdens[i][0] = 1;
      cdens[i][1] = 0;
   }
}
int main(int argc, char **argv)
{
   float cdens[1024][2];
   float (*pdens)[2];
   pdens = (float (*)[2]) malloc(sizeof(float[2])*1024);
   atp(cdens);
   atp(pdens);
   printf("%lf-%lf", cdens[12][0], pdens[12][0]);
   return 0;
}

/* After apply ARRAY_TO_POINTER[%ALL] */

void atp(float *cdens)
{
   int i;
   for(i = 0; i <= 1023; i += 1) {
      *(cdens+i) = 1;
      *(cdens+1+i) = 0;
   }
}
int main(int argc, char **argv)
{
   float *cdens = alloca(sizeof(float[1024][2]));
   float *pdens;
   pdens = (float *) malloc(sizeof(float[2])*1024);
   atp(cdens);
   atp(pdens);
   printf("%lf-%lf", *((float *) cdens+24), *(pdens+12));
   return 0;
}

