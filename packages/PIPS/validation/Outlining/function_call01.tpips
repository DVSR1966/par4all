setenv WS function_call01
delete $WS

setproperty ABORT_ON_USER_ERROR TRUE
create $WS $WS.c

activate C_PARSER
setproperty PRETTYPRINT_C_CODE TRUE
setproperty PRETTYPRINT_STATEMENT_NUMBER FALSE
setproperty FOR_TO_DO_LOOP_IN_CONTROLIZER TRUE

echo
echo Initial code
echo

display PRINTED_FILE[%ALL]


echo
echo Code after outlining
echo

setproperty OUTLINE_MODULE_NAME "kernel"
setproperty OUTLINE_LABEL "kernel"
setproperty OUTLINE_ALLOW_GLOBALS TRUE
apply OUTLINE[a]

display PRINTED_FILE[%ALL]

echo
echo unsplit
echo

apply UNSPLIT[%ALL]
# Verify the output compile:
shell cd $WS.database/Src; cat *; gcc -c *

close
delete $WS
quit
