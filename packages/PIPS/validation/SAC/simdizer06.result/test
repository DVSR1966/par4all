raw file
int main()
{
   float a[4] = {0, 1, 2, 3};
   float b[4] = {3, 2, 1, 0};
   int i;
   /* this should be a first pack */
   a[0] = b[0]+a[0];
   a[1] = b[1]+a[1];
   a[2] = b[2]+a[2];
   a[3] = b[3]+a[3];
   /* this should be a second pack */
   a[0] = b[0]+a[0];
   a[1] = a[1]+b[1];
   a[2] = b[2]+a[2];
   a[3] = b[3]+a[3];
}
after vectorization without commutativity
int main()
{
   //PIPS:SAC generated float vector(s)
   float v4sf_vec0[4], v4sf_vec1[4], v4sf_vec2[4], v4sf_vec3[4];
   {
      float a[4] = {0, 1, 2, 3};
      float b[4] = {3, 2, 1, 0};
      int i;
      SIMD_LOAD_V4SF(v4sf_vec0, &a[0]);
      SIMD_LOAD_V4SF(v4sf_vec1, &b[0]);
      SIMD_ADDPS(v4sf_vec0, v4sf_vec1, v4sf_vec0);
      SIMD_SAVE_V4SF(v4sf_vec0, &a[0]);
      SIMD_LOAD_GENERIC_V4SF(v4sf_vec2, a[0], b[1], a[2], a[3]);
      SIMD_LOAD_GENERIC_V4SF(v4sf_vec3, b[0], a[1], b[2], b[3]);
      SIMD_ADDPS(v4sf_vec2, v4sf_vec3, v4sf_vec2);
      SIMD_SAVE_V4SF(v4sf_vec2, &a[0]);
   }
}
after vectorization with commutativity
int main()
{
   //PIPS:SAC generated float vector(s)
   float v4sf_vec4[4], v4sf_vec5[4], v4sf_vec6[4], v4sf_vec7[4];
   {
      float a[4] = {0, 1, 2, 3};
      float b[4] = {3, 2, 1, 0};
      int i;
      SIMD_LOAD_V4SF(v4sf_vec4, &a[0]);
      SIMD_LOAD_V4SF(v4sf_vec5, &b[0]);
      SIMD_ADDPS(v4sf_vec4, v4sf_vec5, v4sf_vec4);
      SIMD_SAVE_V4SF(v4sf_vec4, &a[0]);
      SIMD_ADDPS(v4sf_vec6, v4sf_vec5, v4sf_vec4);
      SIMD_SAVE_V4SF(v4sf_vec6, &a[0]);
   }
}

