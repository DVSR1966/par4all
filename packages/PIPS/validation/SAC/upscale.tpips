delete upscale
create upscale upscale.c
module upscale_chrominance
activate RICE_REGIONS_DEPENDENCE_GRAPH
activate REGION_CHAINS

setproperty COMMON_SUBEXPRESSION_ELIMINATION_SKIP_ADDED_CONSTANT TRUE
display PRINTED_FILE
apply COMMON_SUBEXPRESSION_ELIMINATION
display PRINTED_FILE
setproperty COMMON_SUBEXPRESSION_ELIMINATION_SKIP_ADDED_CONSTANT FALSE
apply COMMON_SUBEXPRESSION_ELIMINATION
display PRINTED_FILE
apply ICM
#activate MUST_REGIONS
#activate PRECONDITIONS_INTER_FULL
#activate TRANSFORMERS_INTER_FULL
#
#setproperty RICEDG_STATISTICS_ALL_ARRAYS TRUE
#activate RICE_REGIONS_DEPENDENCE_GRAPH
#activate REGION_CHAINS
#
#setproperty SIMD_FORTRAN_MEM_ORGANISATION=FALSE
#setproperty SAC_SIMD_REGISTER_WIDTH = 64
#setproperty SIMD_AUTO_UNROLL_SIMPLE_CALCULATION FALSE
#setproperty SIMD_AUTO_UNROLL_MINIMIZE_UNROLL TRUE
#
#apply SIMDIZER_AUTO_UNROLL
#display PRINTED_FILE
#apply SIMDIZER

display PRINTED_FILE
apply FORWARD_SUBSTITUTE
display PRINTED_FILE

close
delete upscale
