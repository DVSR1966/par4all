#!/bin/sh

tpips=${tpips_version:-tpips}

# Initialization:
# rm -f precprec.result/test
# tpips >precprec.result/test <<EOF

$tpips <<EOF
# Check that a dead call to PR does not impact PR's precondition
# See dead1.f

delete dead3
create dead3 $PIPS_VALIDDIR/Semantics/dead3.f
# create dead3 dead3.f
module PR
activate TRANSFORMERS_INTER_FULL
activate INTERPROCEDURAL_SUMMARY_PRECONDITION
activate PRECONDITIONS_INTER_FULL
activate PRINT_CODE_PRECONDITIONS

shell echo Without explicit dead code elimination:

display PRINTED_FILE

close
delete dead3
quit
EOF

