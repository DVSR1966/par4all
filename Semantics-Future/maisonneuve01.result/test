
TRANSFORMERS

//  T() {0==-1}
void run()
{
   // two variables: a is never known, b is always 0
//  T(a) {}
   int a;
//  T(b) {b==0}
   int b = 0;
//  T(a,b) {b#init==0}

   while (1) {
//  T(a) {}

      a = rand();
//  T(b) {}

      if (alea()) {
//  T() {}
         // here, cannot see that b == 0
         if (alea()&&b!=0) 
//  T() {0==-1}
            error();
//  T(b) {b==0}
         b = 0;
      }
   }
}

PRECONDITIONS

//  P() {}
void run()
{
   // two variables: a is never known, b is always 0
//  P() {}
   int a;
//  P(a) {}
   int b = 0;
//  P(a,b) {b==0}

   while (1) {
//  P(a,b) {b==0}

      a = rand();
//  P(a,b) {b==0}

      if (alea()) {
//  P(a,b) {b==0}
         // here, cannot see that b == 0
         if (alea()&&b!=0) 
//  P() {0==-1}
            error();
//  P(a,b) {b==0}
         b = 0;
      }
   }
}
