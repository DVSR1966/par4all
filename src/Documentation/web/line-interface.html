<html>

<head><title>PIPS: Tpips</title></head>

<body>

<H1><IMG SRC=images/logo-pips.small.gif> Tpips: command line interpreter</H1>

Author: <a href="/~oget">Guillaume Oget</a><p>

<HR>

<H2>Contents</H2>

<UL>
	<LI> <A HREF="#INTRO">1) Introduction</A>
	<LI> <A HREF="#CONCEPTS">2) Basic concepts</A>
	<LI> <A HREF="#KEY">3) Keyboard bindings</A>
	<LI> <A HREF="#GRAMMAR">4) Language</A>
	<LI> <A HREF="#EXAMPLE">5) Example</A>
	<LI> <A HREF="#REF">6) Related Work</A>
</UL>

<HR>

<H2><A NAME="INTRO">1) Introduction</A></H2>

<b>Tpips</b> is a command line interpreter for <a href="/~pips"
><b>PIPS</b></a>, developped by Guillaume Oget. It allows the user to send
elementary orders to <a href="/~pips" ><b>PIPS</b></a>. <b>Tpips</b> is more
general and convenient than the usual scripts like <b>Init</b>,
<b>Perform</b>, <b>Display</b>, <b>Select</b> or <b>Delete</b>, because it
does not close the workspace on which you work after each command. It is
quite similar to <b>Wpips</b> - The XWindow interface for <a href="/~pips"
><b>PIPS</b></a>.<p>

By processing a logfile from <b>Wpips</b>, it is possible to get the
corresponding <b>Tpips</b> script. It makes <b>Wpips</b> - and
<b>Tpips</b> - validation easier.

<HR>

<H2><A NAME="CONCEPTS">2) Basic concepts</A></H2>

See <a href="/~pipsmake.html"><b>Pipsmake</b></a> ;=)<p>

<HR>

<H2><A NAME="KEY">3) Keyboard bindings</A></H2>

See <a href="readline.html#sect8">readline manual page</a><p>

<HR>

<H2><A NAME="GRAMMAR">4) Language</A></H2>

The commands and their parameters are :<br>

<UL>
	<LI> <b>create</b> <i>&lt;workspace-name&gt;</i>
<i>&lt;file-name&gt;...</i><br>
	creates and opens a new workspace from a source file - or set of source files

	<LI> <b>open</b> <i>&lt;workspace-name&gt;</i><br>
	opens an existing workspace

	<LI> <b>close</b> <i>&lt;workspace-name&gt;</i><br>
	closes an opened workspace

	<LI> <b>delete</b> <i>&lt;workspace-name&gt;</i><br>
	deletes a closed workspace

	<LI> <b>module</b> <i>&lt;module-name&gt;</i><br>
	specifies the current module

	<LI> <b>activate</b> <i>&lt;rule-name&gt;</i><br>
	activates a rule. Several rules can be used to produce a
resource. At any time one of these rules is the default rule

	<LI> <b>make</b> <i>&lt;resource-descriptor&gt;</i><br>
	makes a resource according to default rules

	<LI> <b>apply</b> <i>&lt;rule-descriptor&gt;</i><br>
	applies a specified rule using other default rules

	<LI> <b>display</b> <i>&lt;resource-descriptor&gt;</i><br>
	makes a printable resource and prints it out

	<LI> <b>get</b> <i>&lt;property-name&gt;</i><br>
	prints the value of a property

	<LI> <b>set</b> <i>&lt;property-name&gt;</i>
<i>&lt;value&gt;</i><br>
	sets the value of a property - after type check

	<LI> <b>cd</b> <i>&lt;directory-name&gt;</i><br>
	changes the default directory

	<LI> <b>shell</b> [<i>&lt;sh-command&gt;</i>
<i>&lt;parameters&gt;...</i>]<br>
	Execute the rest of the line as a shell command. With no
arguments, run an inferior shell.

	<LI> <b>help</b> [<i>&lt;command&gt;</i>]<br>
	prints out general help or detailled help about an item

	<LI> <b>quit</b><br>
	quit <b>Tpips</b>

</UL>

The parameters of the previous functions are :<br>

<UL>
	<LI> <b><i>&lt;file-name&gt;</i></b> : Unix path and file name

	<LI> <b><i>&lt;workspace-name&gt;</i></b>: Unix file name - no
path

	<LI> <b><i>&lt;module-name&gt;</i></b> : Fortran function name

	<LI> <b><i>&lt;rule-name&gt;</i></b> : <a
href="pipsmake.html#DESCRIP">Pipsmake</a> rule name

	<LI> <b><i>&lt;resource-descriptor&gt;</i></b> : <a
href="pipsmake.html#DESCRIP">Pipsmake</a> resource name - format
<i>resource[(OWNER)]</i>.

	<LI> <b><i>&lt;rule-descriptor&gt;</i></b> : <a
href="pipsmake.html#DESCRIP">Pipsmake</a> instanciated rule - format
<i>rulename[(OWNER)]</i>. This means that this rule is considered for
the specified resources owners.

</UL>


The owner - used in the previous <i>&lt;rule-descriptor&gt;</i> and
<i>&lt;resource-descriptor&gt;</i> - can take these formats:<br>

<UL>
	<LI> <b>$PROGRAM</b>
	<LI> <b>$MODULE</b>
	<LI> <b>$ALL</b>
	<LI> <b>$CALLEES</b>
	<LI> <b>$CALLERS</b>
	<LI> <b>$MAIN</b>
	<LI> <b>&lt;module-name&gt;</b>
	<LI> <b>&lt;module-name&gt;,&lt;module-name&gt;, ...</b>
</UL>

If no owner is specified, then the default module is assumed. For
generic owners, a dollar sign ($) has been added to differentiate them
from module names.<p>

<HR>

<H2><A NAME="EXAMPLE">5) Example</A></H2>

<pre>
sh>tpips                            <i>// run tpips</i>
tpips> create wfoo essai.f          <i>// create a workspace</i>
tpips> module TEST                  <i>// select the default module</i>
tpips> activate must_regions        <i>// select the rule must_regions instead</i>
                                    <i>   of the default rule may_regoins</i>
tpips> display callgraph_file       <i>// display the sub-callgraph for the</i>
                                    <i>   module TEST</i>
tpips> make proper_effects($ALL)    <i>// compute proper effects for every</i>
                                    <i>   module</i>
tpips> activate region_chains       <i>// select the rule regions_chains for</i>
                                    <i>   computing Use-Def chainsin essai.f</i>
tpips> display dg_file($ALL)        <i>// display all the dependance graphs</i>
tpips> close wfoo                   <i>// close the workspace</i>
tpips> delete wfoo                  <i>// delete the workspace</i>
tpips> quit                         <i>// quit tpips</i>

</pre>

<HR>

<H2><A NAME="REF">6) Related Work</A></H2>

none ;=)<p>

<HR>

</body> </html>
