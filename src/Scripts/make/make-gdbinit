#!/bin/csh -f
#
# SCCS Stuff
# $RCSfile: make-gdbinit,v $ ($Date: 1995/08/04 11:55:02 $) version $Revision$, got on %D%, %T%
# %A%
#
# Génère $PIPSDIR/.gdbinit avec les variables positionnées pour trouver les
# sources des exécutables.
#
# Ronan.Keryell, 23/03/1994.

set cible=$PIPSDIR/.gdbinit

cat << FIN > $cible
#	   --------------------------------------------------------
#	   --------------------------------------------------------
#
#				    WARNING
#
#		  THIS FILE HAS BEEN AUTOMATICALLY GENERATED
#
#			       DO NOT MODIFY IT
#
#		Look at \$PIPSDIR/Utilities/make-gdbinit instead !
#
#	   --------------------------------------------------------
#	   --------------------------------------------------------

# Sauve l'historique de ce qu'on tape dans ~/.gdb_history :
set history save on
# Valide l'utilisation du << ! >> à la csh :
set history expansion on
# J'aime bien savoir ce qui se passe... :-)
# L'effet de bord est que cela permet de savoir où est une variable
# via type puis le message indiquant le fichier qu'il lit.
# A permis de trouver quelques bug... :-)
set verbose on

set print array on
set print fast-symbolic-addr off
set print pretty on
set print symbol-filename on

# Où chercher les sources :
FIN

foreach i ($PIPSDIR/Development/{Lib/*,Passes/{pips,wpips}})
	if ($i:t != TAGS) echo directory $i >> $cible
end
