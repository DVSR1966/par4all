
Privatize scalar variables


Privatize scalar variables


 **************** Effective Dependence Graph ****************

	08 --> 11 with conflicts
		from <TOP-LEVEL:Matrix(i)-W-MUST> to <TOP-LEVEL:Matrix(i,j)-W-MUST> at levels  2
	08 --> 11 with conflicts
		from <TOP-LEVEL:Matrix(i)-W-MUST> to <TOP-LEVEL:Matrix(i)-R-MUST> at levels  2
	08 --> 08 with conflicts
		from <_MALLOC_EFFECTS:_MALLOC_-R-MUST> to <_MALLOC_EFFECTS:_MALLOC_-W-MUST> at levels  1
	08 --> 08 with conflicts
		from <_MALLOC_EFFECTS:_MALLOC_-W-MUST> to <_MALLOC_EFFECTS:_MALLOC_-W-MUST> at levels  1
	08 --> 08 with conflicts
		from <_MALLOC_EFFECTS:_MALLOC_-W-MUST> to <_MALLOC_EFFECTS:_MALLOC_-R-MUST> at levels  1

****************** End of Dependence Graph ******************

// OMP style

int main(void)
{
   int i;
   int j;

   Matrix = (int **) malloc(N*sizeof(int *));                           /*0005*/
   for(i = 0; i <= N-1; i += 1)
      Matrix[i] = (int *) malloc(Z*sizeof(int));                        /*0008*/
#pragma omp parallel for private(j)
   for(i = 0; i <= N-1; i += 1)
#pragma omp parallel for 
      for(j = 0; j <= Z-1; j += 1)
         Matrix[i][j] = i*j;                                            /*0011*/
   return 0;                                                            /*0014*/
}

Internalize parallel code

int main(void)
{
   int i;
   int j;

   Matrix = (int **) malloc(N*sizeof(int *));                           /*0005*/
   for(i = 0; i <= N-1; i += 1)
      Matrix[i] = (int *) malloc(Z*sizeof(int));                        /*0008*/
#pragma omp parallel for private(j)
   for(i = 0; i <= N-1; i += 1)
#pragma omp parallel for 
      for(j = 0; j <= Z-1; j += 1)
         Matrix[i][j] = i*j;                                            /*0011*/
   return 0;                                                            /*0014*/
}

Ompify code

int main(void)
{
   int i;
   int j;

   Matrix = (int **) malloc(N*sizeof(int *));                           /*0005*/
   for(i = 0; i <= N-1; i += 1)
      Matrix[i] = (int *) malloc(Z*sizeof(int));                        /*0008*/
#pragma omp parallel for private(j)
   for(i = 0; i <= N-1; i += 1)
#pragma omp parallel for
      for(j = 0; j <= Z-1; j += 1)
         Matrix[i][j] = i*j;                                            /*0011*/
   return 0;                                                            /*0014*/
}

Unsplit code

