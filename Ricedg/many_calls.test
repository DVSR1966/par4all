#!/bin/sh
#
# Script to test call to two different DG one after the other
# using many_calls.f
#

tpips=${tpips_version:-tpips}

# Initialization:
# rm -f many_calls.result/test
# many_calls.test >many_calls.result/test

$tpips <<EOF

create mc Ricedg/many_calls.f

activate PRINT_WHOLE_DEPENDENCE_GRAPH

echo
echo Whole dependence graph, preconditions and loop bounds ignored
echo

activate RICE_FAST_DEPENDENCE_GRAPH # Preconditions Ignored

display DG_FILE

echo
echo Whole dependence graph, preconditions ignored, loop bounds used
echo

activate RICE_FULL_DEPENDENCE_GRAPH # Loop Bounds Used

display DG_FILE

echo
echo Whole dependence graph, preconditions (and loop bounds) used
echo

activate RICE_SEMANTICS_DEPENDENCE_GRAPH # Preconditions Used

display DG_FILE

close

open mc

activate PRINT_EFFECTIVE_DEPENDENCE_GRAPH

echo
echo Effective dependence graph, preconditions (and loop bounds) used
echo

activate RICE_FAST_DEPENDENCE_GRAPH

display DG_FILE

echo
echo Effective dependence graph, preconditions ignored, loop bounds used
echo

activate RICE_FULL_DEPENDENCE_GRAPH
activate PRINT_LOOP_CARRIED_DEPENDENCE_GRAPH

display DG_FILE
close
delete mc
EOF
#
