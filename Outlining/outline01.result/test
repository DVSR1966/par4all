
Initial code

void foo(int bar[256][256])
{
   int i;
   int j;
   for (i = 0;i<256;i++)
      for (j = 0;j<256;j++)
kernel:         bar[i][j] = i*j;
}
extern void foo(int bar[256][256]);

Code after outlining

void foo(int bar[256][256])
{
   int i;
   int j;
   for (i = 0;i<256;i++)
      for (j = 0;j<256;j++)
kernel:         kernel(i, j, bar);
}
void kernel(int i, int j, int bar[256][256])
{
kernel:   bar[i][j] = i*j;
}
void kernel(int i, int j, int bar[256][256]);
extern void foo(int bar[256][256]);

unsplit

