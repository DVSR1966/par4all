flatten code mixes variable with non compatible declarations
i3 has lost its register status.
