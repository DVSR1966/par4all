delete onetriploop03
create onetriploop03 onetriploop03.c

activate C_PARSER
setproperty PRETTYPRINT_C_CODE TRUE
setproperty PRETTYPRINT_STATEMENT_NUMBER FALSE

setproperty FOR_TO_DO_LOOP_IN_CONTROLIZER   TRUE
setproperty FOR_TO_WHILE_LOOP_IN_CONTROLIZER   TRUE

setproperty SEMANTICS_COMPUTE_TRANSFORMERS_IN_CONTEXT TRUE

setproperty SEMANTICS_FIX_POINT_OPERATOR "derivative"

# display PRINTED_FILE[onetriploop03]
# capply SUPPRESS_DEAD_CODE[onetriploop03]
# display PRINTED_FILE[onetriploop03]

echo
echo Initial code
echo

display PRINTED_FILE[foo]
display PRINTED_FILE[onetriploop03]
display PRINTED_FILE[main]

echo
echo Initial code with preconditions
echo

activate PRINT_CODE_PRECONDITIONS
display PRINTED_FILE[foo]
display PRINTED_FILE[onetriploop03]
display PRINTED_FILE[main]

echo
echo Code after one trip loop detection and simplification
echo

activate PRINT_CODE
capply SUPPRESS_DEAD_CODE[onetriploop03]
display PRINTED_FILE[foo]
display PRINTED_FILE[onetriploop03]
display PRINTED_FILE[main]

# apply UNSPLIT

close
# delete onetriploop03
