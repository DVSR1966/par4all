unclear issue with computation/allocation mis-order, extracted from retina
