#!/bin/sh
#
# Script to test COMPLEXITY on lower0.f
#
# Old version:
# Init -df $PIPS_DIR/Tests/Validation/Complexity/lower0.f lower0 >&2
# echo "--- Complexity"
# Display -m lower0 comp
# exit_status=$?
# Delete lower0 >&2
# exit $exit_status

tpips=${tpips_version:-tpips}

# Initialization:
# rm -f lower0.result/test
# lower0.test >lower0.result/test

$tpips <<EOF
# Complexity estimation before and after
# partial evaluation

delete lower0
create lower0 $PIPS_VALIDDIR/Complexity/lower0.f
module lower0
activate PRINT_CODE_COMPLEXITIES
echo --- Before partial eval
display PRINTED_FILE
apply PARTIAL_EVAL 
echo --- After partial eval
display PRINTED_FILE
close
delete lower0
quit
EOF
